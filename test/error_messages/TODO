positional: check for double repeat
test for invalid `when`
test for `repeatable` and `final`
